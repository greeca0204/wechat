var btGame;~function(a){a.getGamePath=function(){var b=location.href;b=b.slice(0,b.lastIndexOf("/")+1);return b};a.dc=function(b){window.Dc_SetButtonClickData&&Dc_SetButtonClickData(a.getGameId(),b)}}(btGame||(btGame={}));var btGame;~function(b){function a(d,c){this.elemId=d;this.hideClass=c||"bt-hide"}a.prototype={beforeShow:function(){},show:function(){this.beforeShow();var c=this;setTimeout(function(){$("#"+c.elemId).removeClass(c.hideClass)},1)},hide:function(){$("#"+this.elemId).addClass(this.hideClass)}};b.popupBox=a}(btGame||(btGame={}));var btGame;~function(a){a.proxy=function(b,c){return function(){b.apply(c,arguments)}}}(btGame||(btGame={}));var btGame;~function(a){var b=function(c){this.__publisher__=c};b.prototype={on:function(d,c){this.__publisher__.on(d,a.proxy(c,this))},fire:function(c){this.__publisher__.trigger(c,[].slice.call(arguments,1))},off:function(d,c){if(c){this.__publisher__.off(d,a.proxy(c,this))}else{this.__publisher__.off(d)}}};a.makePublisher=function(e){var c=typeof e;var d=new b($("<div></div>"));if(c=="function"){e.prototype.__publisher__=d.__publisher__;$.extend(e.prototype,b.prototype)}else{if(c=="object"){e.__publisher__=d.__publisher__;$.extend(e,b.prototype)}}}}(btGame||(btGame={}));var btGame;~function(d){var a;function c(){if(!a){a=document.body||document.getElementsByTagName("body")[0]}return a}d.getDomBody=c;function b(){return document.createElement("div")}d.getNewDiv=b}(btGame||(btGame={}));var btGame;~function(a){var d="bt-lock-screen";var c=function(g){var f=a.getNewDiv();f.id=g;var e=a.getDomBody();e.appendChild(f);return $(f)};var b=function(e){a.popupBox.call(this,e||d)};b.__super__=a.popupBox;b.prototype=$.extend({},a.popupBox.prototype,{beforeShow:function(){var e=this.getElem();if(e.size()<=0){e=c(this.elemId);e.addClass("bt-lock-screen bt-animation bt-hide")}},remove:function(){var e=this.getElem();if(e.size()>0){e.addClass("bt-hide");setTimeout(function(){e.remove()},400)}},getElem:function(){return $("#"+this.elemId)}});a.lockScreen=function(e){return new b(e)}}(btGame||(btGame={}));var btGame;~function(a){var c=null;var b=null;var d=function(f,e){if(f>0&&!c){c=$(btGame.getNewDiv());c.addClass("bt-game-loading");c.html('<table><tr><td><img class="bt-img" src="../assets/images/hitboss/preloadImage.png" /><div class="bt-text"></div></td></tr></table>');a.getDomBody().appendChild(c[0]);b=c.find(".bt-text")}if(c){if(e){b.html(e)}else{var g=Math.round(f*100);b.html("加载进度:"+g+"%")}}if(f>=1){c&&c.remove();c=null}};a.gameLoading=d}(btGame||(btGame={}));var btGame;~function(a){function c(f,m){var h=window.innerWidth,i=window.innerHeight;var l;if(f<=h&&m<=i){}else{if(f>h&&m>i){var e=h/f,k=i/m;if(e<=k){l=f;f=h;m=m*f/l}else{l=m;m=i;f=f*m/l}}else{if(f>h){l=f;f=h;m=m*h/l}else{if(m>i){l=m;m=i;f=f*i/l}else{}}}}var j=(i-m)/2,g=(h-f)/2;return{width:f,height:m,top:j,left:g}}function b(g,h,f,j,i){var e=c(h,f);g.css({width:e.width,height:e.height,top:j=="center"?e.top:j=="left"?0:j,left:i=="center"?e.left:i=="left"?0:i});switch(j){case"top":g.css({top:0});break;case"center":g.css({top:e.top});break;case"bottom":g.css({bottom:0});break;default:g.css({top:j})}switch(i){case"left":g.css({left:0});break;case"center":g.css({left:e.left});break;case"right":g.css({right:0});break;default:g.css({left:i})}g.trigger("resizePlayArea",[e])}function d(f,g,e,i,h){a.checkHScreen(function(){setTimeout(function(){b(f,g,e,i,h)},500)})}a.resizePlayArea=d}(btGame||(btGame={}));var btGame;~function(c){var b=function(d){d&&d(window.innerWidth>window.innerHeight)};function a(e,d){if(!d){window.addEventListener("orientationchange",function(){b(e)});window.addEventListener("resize",function(){b(e)})}b(e)}c.checkHScreen=a}(btGame||(btGame={}));